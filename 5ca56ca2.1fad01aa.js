(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{155:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return u})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return d}));var n=a(2),o=a(6),r=(a(0),a(243)),i=a(250),c=a(251),u={id:"authmTLS",title:"Autoriza\xe7\xe3o com mTLS",hide_title:!0,sidebar_label:"Authentication with mTLS"},l={id:"AutenticacaoEndpoints/authmTLS",isDocsHomePage:!1,title:"Autoriza\xe7\xe3o com mTLS",description:"Authorization with mTLS",source:"@site/docs\\AutenticacaoEndpoints\\authmtls.md",permalink:"/documentation/docs/AutenticacaoEndpoints/authmTLS",sidebar_label:"Authentication with mTLS"},s=[{value:"Certificado P12",id:"certificado-p12",children:[{value:"Gerando um certificado P12",id:"gerando-um-certificado-p12",children:[]}]},{value:"Autoriza\xe7\xe3o de acesso para aplica\xe7\xe3o",id:"autoriza\xe7\xe3o-de-acesso-para-aplica\xe7\xe3o",children:[]},{value:"Endpoint: Authorize",id:"endpoint-authorize",children:[]}],b={rightToc:s};function d(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{className:"titulo"},"Authorization with mTLS"),Object(r.b)("div",{className:"subtitulo"},Object(r.b)("h2",{id:"certificado-p12"},"Certificado P12"),Object(r.b)("p",null,"Todas as requisi\xe7\xf5es para a ",Object(r.b)("code",null,"API Pix")," devem conter um certificado de seguran\xe7a que ser\xe1 fornecido pela Gerencianet dentro da sua conta, no formato ",Object(r.b)("code",null,"PFX(.p12)"),".\nO Auth2  fornece um mecanismo de autoriza\xe7\xe3o chamado de mutual Transport Layer Security(mTLS) por meio do certificado emitido em sua conta Gerencianet, tal m\xe9todo acrescenta mais um n\xedvel de seguran\xe7a \xe0s requisi\xe7\xf5es trafegadas entre sua aplica\xe7\xe3o e a API Gerencianet. Essa exig\xeancia est\xe1 descrita na \xedntegra no ",Object(r.b)("a",{href:"https://www.bcb.gov.br/estabilidadefinanceira/comunicacaodados",target:"_blank",alt:"manual de seguran\xe7a do pix"},"manual de seguran\xe7a do PIX"),"."),Object(r.b)("h3",{id:"gerando-um-certificado-p12"},"Gerando um certificado P12"),Object(r.b)("p",null,"Para gerar o seu certificado, basta seguir os passos abaixo:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},'Acesse o item "API" no menu superior da conta Gerencianet;'),Object(r.b)("li",{parentName:"ol"},'No menu \xe0 esquerda, clique em "Meus Certificados";'),Object(r.b)("li",{parentName:"ol"},"Na nova janela selecione o ambiente ao qual pertencer\xe1 o certificado (Produ\xe7\xe3o ou Homologa\xe7\xe3o)"),Object(r.b)("li",{parentName:"ol"},'Clique em "Novo Certificado" (bot\xe3o laranja);'),Object(r.b)("li",{parentName:"ol"},"Atribua uma descri\xe7\xe3o ao certificado para identific\xe1-lo no futuro;"),Object(r.b)("li",{parentName:"ol"},"Confirme a cria\xe7\xe3o do certificado;"),Object(r.b)("li",{parentName:"ol"},"Por fim, baixe o certificado.")),Object(r.b)("br",null),Object(r.b)("h2",{id:"autoriza\xe7\xe3o-de-acesso-para-aplica\xe7\xe3o"},"Autoriza\xe7\xe3o de acesso para aplica\xe7\xe3o"),Object(r.b)("p",null,"A API da Gerencianet \xe9 ",Object(r.b)("a",{href:"http://www.restapitutorial.com/",target:"_blank",title:"[link externo]"},"RESTful"),", as requisi\xe7\xf5es/respostas s\xe3o em JSON e utilizamos o ",Object(r.b)("a",{href:"http://oauth.net/2/",target:"_blank"},"OAuth2")," como framework de autoriza\xe7\xe3o \xe0 API. Todas as solicita\xe7\xf5es de OAuth2 devem utilizar o seu respectivo ",Object(r.b)("em",null,"endpoint")," base:"),Object(r.b)(i.a,{defaultValue:"desenvolvimento",values:[{label:"Homologa\xe7\xe3o",value:"desenvolvimento"},{label:"Produ\xe7\xe3o",value:"producao"}],mdxType:"Tabs"},Object(r.b)(c.a,{value:"desenvolvimento",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'"URL": {\n    "sandbox": "https://api-pix-h.gerencianet.com.br"\n  },\n'))),Object(r.b)(c.a,{value:"producao",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'"URL": {\n    "production": "https://api-pix.gerencianet.com.br"\n  },\n')))),Object(r.b)("br",null),Object(r.b)("h2",{id:"endpoint-authorize"},"Endpoint: Authorize"),Object(r.b)("p",null,"A API da Gerencianet \xe9 compat\xedvel com o protocolo ",Object(r.b)("a",{href:"http://oauth.net/2/",target:"_blank"},"OAuth 2.0")," para autorizar acesso \xe0 API. As requisi\xe7\xf5es s\xe3o autenticadas usando ",Object(r.b)("a",{href:"https://en.wikipedia.org/wiki/Basic_access_authentication",target:"_blank",title:"Link Externo"},"HTTP Basic Auth"),"."),Object(r.b)("p",null,"O objetivo do protocolo OAuth2 \xe9 a troca de uma cadeia de tokens entre o ",Object(r.b)("em",{parentName:"p"},"Cliente")," e ",Object(r.b)("em",{parentName:"p"},"Server Resource"),". Esse token \xe9 usado para autenticar todas as chamadas a API usando ",Object(r.b)("em",{parentName:"p"},"Authorization")," no cabe\xe7alho do HTTP."),Object(r.b)("p",null,"O ",Object(r.b)("em",null,"endpoint")," base para autentica\xe7\xe3o \xe9 representado abaixo:"),Object(r.b)(i.a,{defaultValue:"auth",values:[{label:"Endpoint: Authorize",value:"auth"}],mdxType:"Tabs"},Object(r.b)(c.a,{value:"auth",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'"authorize": {\n      "route": "/oauth/token",\n      "method": "post"\n'))))))}d.isMDXComponent=!0},243:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return m}));var n=a(0),o=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=o.a.createContext({}),s=function(e){var t=o.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},b=function(e){var t=s(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},p=o.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,i=e.parentName,l=u(e,["components","mdxType","originalType","parentName"]),b=s(a),p=n,m=b["".concat(i,".").concat(p)]||b[p]||d[p]||r;return a?o.a.createElement(m,c(c({ref:t},l),{},{components:a})):o.a.createElement(m,c({ref:t},l))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=p;var c={};for(var u in t)hasOwnProperty.call(t,u)&&(c[u]=t[u]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var l=2;l<r;l++)i[l]=a[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"},247:function(e,t,a){"use strict";function n(e){var t,a,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(o&&(o+=" "),o+=a);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,a=0,o="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}},248:function(e,t,a){"use strict";var n=a(0);const o=Object(n.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});t.a=o},249:function(e,t,a){"use strict";var n=a(0),o=a(248);t.a=function(){return Object(n.useContext)(o.a)}},250:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(249),i=a(247),c=a(92),u=a.n(c);const l=37,s=39;t.a=function(e){const{block:t,children:a,defaultValue:c,values:b,groupId:d}=e,{tabGroupChoices:p,setTabGroupChoices:m}=Object(r.a)(),[f,O]=Object(n.useState)(c);if(null!=d){const e=p[d];null!=e&&e!==f&&b.some(t=>t.value===e)&&O(e)}const h=e=>{O(e),null!=d&&m(d,e)},j=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t})},b.map(({value:e,label:t})=>o.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":f===e,className:Object(i.a)("tabs__item",u.a.tabItem,{"tabs__item--active":f===e}),key:e,ref:e=>j.push(e),onKeyDown:e=>((e,t,a)=>{switch(a.keyCode){case s:((e,t)=>{const a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()})(e,t);break;case l:((e,t)=>{const a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,t)}})(j,e.target,e),onFocus:()=>h(e),onClick:()=>h(e)},t))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(a).filter(e=>e.props.value===f)[0]))}},251:function(e,t,a){"use strict";var n=a(0),o=a.n(n);t.a=function(e){return o.a.createElement("div",null,e.children)}}}]);