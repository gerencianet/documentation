(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{240:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return u}));var a=n(2),b=n(6),c=(n(0),n(250)),i=n(257),r=n(258),l={id:"endpoints",title:"Endpoints",hide_title:!0,sidebar_label:"Endpoints"},o={id:"openFinance/endpoints",isDocsHomePage:!1,title:"Endpoints",description:"Endpoints",source:"@site/docs\\openFinance\\endpoints.md",permalink:"/documentation/docs/openFinance/endpoints",sidebar_label:"Endpoints",sidebar:"someSidebar",previous:{title:"Credentials, Certificate and Authorization",permalink:"/documentation/docs/openFinance/credenciais"},next:{title:"Introdu\xe7\xe3o",permalink:"/documentation/docs/VisaoGeral/introducao"}},s=[{value:"Application settings",id:"application-settings",children:[{value:"Configuring application URLs",id:"configuring-application-urls",children:[]},{value:"Getting application URLs settings",id:"getting-application-urls-settings",children:[]}]},{value:"Participants",id:"participants",children:[{value:"Get the participants institutions of Open Finance",id:"get-the-participants-institutions-of-open-finance",children:[]}]},{value:"Payments",id:"payments",children:[{value:"Request to start using Pix via Open Finance",id:"request-to-start-using-pix-via-open-finance",children:[]},{value:"List of payments for a period of time",id:"list-of-payments-for-a-period-of-time",children:[]},{value:"Receiving callbacks",id:"receiving-callbacks",children:[]}]}],d={rightToc:s};function u(e){var t=e.components,n=Object(b.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h1",{className:"titulo"},"Endpoints"),Object(c.b)("div",{className:"subtitulo"},Object(c.b)("p",null,"Information from all endpoints available in the Open Finance API"),Object(c.b)("p",null,"On this page you will find all the endpoints available in the Gerencianet Open Finance API and information on how to use them correctly, such as the scopes necessary for the consumption of each route and their return details."),Object(c.b)("p",null,"Use the summary below to quickly navigate between API endpoint groups."),Object(c.b)("h2",{id:"application-settings"},"Application settings"),Object(c.b)("h3",{id:"configuring-application-urls"},"Configuring application URLs"),Object(c.b)("div",{class:"gn-endpoint"},Object(c.b)("span",{class:"http-method put"},"PUT"),Object(c.b)("span",{class:"endpoint"},"/open-fincance/config")),Object(c.b)("br",null),"This endpoint is used to create or modify a configuration in the application related to the Open Finance API.",Object(c.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"To register the Webhook url, it is necessary that the communication obeys the mTLS standard, which will be validated at the time of configuration. For more details, visit the ",Object(c.b)("a",{href:"https://gerencianet.github.io/documentation/docs/PIX/Endpoints#understanding-the-mtls-pattern"},"link"),"."))),Object(c.b)("h4",{id:"request"},"Request"),Object(c.b)("p",null,"Data for configuration."),Object(c.b)(i.a,{defaultValue:"production",values:[{label:"URLs settings",value:"production"}],mdxType:"Tabs"},Object(c.b)(r.a,{value:"production",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),' // Exemplo configurando uma URL\n{\n  "redirectURL": "https://client.com/redirect/here",\n  "webhookURL": "https://client.com/send/callback/here"\n}\n')))),Object(c.b)("table",null,Object(c.b)("tbody",null,Object(c.b)("tr",null,Object(c.b)("th",null,"Attribute"),Object(c.b)("th",{align:"center"},"Description"),Object(c.b)("th",{align:"center"},"Mandatory"),Object(c.b)("th",{align:"center"},"Type")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"redirectURL")),Object(c.b)("td",{align:"left"}," Url where the final customer will be directed after the transaction. ",Object(c.b)("br",null),Object(c.b)("br",null),"The redirectURL will be activated when the customer is directed to the store of origin, that is, to the environment that the integrator prepares to receive the customer after completing the actions in the banking environment."),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"center"},"String")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"webhookURL")),Object(c.b)("td",{align:"left"}," Url where the notification will be sent."),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"center"},"String")))),Object(c.b)("h3",{id:"getting-application-urls-settings"},"Getting application URLs settings"),Object(c.b)("div",{class:"gn-endpoint"},Object(c.b)("span",{class:"http-method get"},"GET"),Object(c.b)("span",{class:"endpoint"},"/open-fincance/config")),Object(c.b)("br",null),"This endpoint is used to return the application settings related to the Open Finance API, it is not necessary to inform any parameters.",Object(c.b)("h4",{id:"responses"},"Responses"),Object(c.b)("p",null,"The answers below represent Success(200) and Failures/Errors of consumption."),Object(c.b)(i.a,{defaultValue:"200",values:[{label:"200(Success)",value:"200"},{label:"400(Bad Request)",value:"400"},{label:"500(Error)",value:"500"}],mdxType:"Tabs"},Object(c.b)(r.a,{value:"200",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "redirectURL": "https://client.com/redirect/here",\n  "webhookURL": "https://client.com/send/callback/here"\n}\n'))),Object(c.b)(r.a,{value:"400",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "configuracao_nao_encontrada",\n  "mensagem": "Nenhuma configura\xe7\xe3o encontrada"\n}\n'))),Object(c.b)(r.a,{value:"500",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "configuracao_nao_encontrada",\n  "mensagem": "Nenhuma configura\xe7\xe3o encontrada"\n}\n')))),Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("h2",{id:"participants"},"Participants"),Object(c.b)("h3",{id:"get-the-participants-institutions-of-open-finance"},"Get the participants institutions of Open Finance"),Object(c.b)("div",{class:"gn-endpoint"},Object(c.b)("span",{class:"http-method get"},"GET"),Object(c.b)("span",{class:"endpoint"},"/open-fincance/participantes/",Object(c.b)("span",{class:"variable"},":nome"))),Object(c.b)("br",null),"Endpoint to get one or more active participants of Open Finance.",Object(c.b)("br",null),Object(c.b)("b",null,"Requires authorization for the scope: ",Object(c.b)("code",null,"gn.opb.participants.read")),Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("b",null,"Request"),Object(c.b)("table",null,Object(c.b)("tbody",null,Object(c.b)("tr",null,Object(c.b)("th",null,"Attribute"),Object(c.b)("th",{align:"center"},"Description"),Object(c.b)("th",{align:"center"},"Mandatory"),Object(c.b)("th",{align:"center"},"Type")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"Nome")),Object(c.b)("td",{align:"left"}," PSP name to be searched."),Object(c.b)("td",{align:"center"},"No"),Object(c.b)("td",{align:"center"},"String")))),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"Note")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},'If the "nome" (name) attribute is not present in the request, all active Open Finance participants willl be returned.'))),Object(c.b)("b",null,"Responses"),Object(c.b)("p",null,"The responses below represent Success(200) and Consumption failures/errors."),Object(c.b)(i.a,{defaultValue:"200",values:[{label:"200(Success)",value:"200"},{label:"404(Not Found)",value:"404"},{label:"401(Unauthorized)",value:"401"},{label:"403(Forbidden)",value:"403"},{label:"412(Precondition Failed)",value:"412"},{label:"500(Error)",value:"500"}],mdxType:"Tabs"},Object(c.b)(r.a,{value:"200",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'List with one or more Open Finance Participants\n{\n  "participantes": [\n    {\n      "identificador": "9f4cd202-8f2b-11ec-b909-0242ac120002",\n      "nome": "MARCA GERENCIANET",\n      "descricao": "Descri\xe7\xe3o da marca",\n      "portal": "https://openbankingbrasil.org.br/quem-participa/",\n      "logo": "https://www.gerencianet.com.br/logo.png",\n      "organizacoes": [\n        {\n          "nome": "Gerencianet",\n          "cnpj": "09089356000118,",\n          "status": "Ativo"\n        }\n      ]\n    }\n  ]\n}\n'))),Object(c.b)(r.a,{value:"404",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'Invalid name\n{\n  "nome": "participante_nao_encontrado",\n  "mensagem": "Nenhum participante encontrado"\n}\n'))),Object(c.b)(r.a,{value:"401",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),"This error occurs in the following situations:\n\n* Certificate or credentials do not exist;\n* Certificate or credentials are disabled;\n* Certificate and credentials are not linked to the same Gerencianet account;\n* Integrator does not have permission for the scope needed to consume this endpoint.\n"))),Object(c.b)(r.a,{value:"403",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),"This error occurs in the following situations:\n\n* Integrator requests access to a scope to which it does not have permission.\n"))),Object(c.b)(r.a,{value:"412",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'Precondition failed. This error occurs in the following situations:\n\n* Integrator must have at least one registered Webhook.\n{\n  "nome": "webhook_nao_cadastrado",\n  "mensagem": "Sua conta n\xe3o possui webhook cadastrado na API de Cadastro."\n}\n'))),Object(c.b)(r.a,{value:"500",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'Application error\n{\n  "nome": "erro_aplicacao",\n  "mensagem": "Erro interno do servidor"\n}\n')))),Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("h2",{id:"payments"},"Payments"),Object(c.b)("h3",{id:"request-to-start-using-pix-via-open-finance"},"Request to start using Pix via Open Finance"),Object(c.b)("div",{class:"gn-endpoint"},Object(c.b)("span",{class:"http-method post"},"POST"),Object(c.b)("span",{class:"endpoint"},"/open-finance/pagamentos/pix")),"This endpoint is used to enter payment information to be initiated and the output is a redirect url, which must be inserted into a button so that the user clicks and is redirected to the account institution holding.",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("h4",{id:"request-1"},"Request"),Object(c.b)("table",null,Object(c.b)("tbody",null,Object(c.b)("tr",null,Object(c.b)("th",null,"Attribute"),Object(c.b)("th",{align:"center"},"Description"),Object(c.b)("th",{align:"center"},"Mandatory"),Object(c.b)("th",{align:"center"},"Type")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"x-idempotency-key")),Object(c.b)("td",{align:"left"}," Unique key to avoid duplicate requests in a short time. If several requests with the same information are sent at the same time, one of them will be successfully processed. If another request is sent with the same key, a 409 error will be returned. (This attribute must be sent in the Header)"),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String. ",Object(c.b)("br",null)," ",Object(c.b)("code",null,"minLength:"),Object(c.b)("code",null,"36"),Object(c.b)("br",null),Object(c.b)("code",null,"maxLength:"),Object(c.b)("code",null,"72")," ")))),Object(c.b)(i.a,{defaultValue:"200",values:[{label:"Payment initiation",value:"200"}],mdxType:"Tabs"},Object(c.b)(r.a,{value:"200",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'Payment initiation example\n{\n  "pagador": {\n    "idParticipante": "9f4cd202-8f2b-11ec-b909-0242ac120002",\n    "cpf": "45204392050", // cpf ou cnpj\n    "cnpj": "90293071000112"\n  },\n  "favorecido": {\n    "contaBanco": {\n      "codigoBanco": "364",\n      "agencia": "0001",\n      "documento": "11122233344",\n      "nome": "Luiz Silva",\n      "conta": "654984",\n      "tipoConta": "CACC"\n    }\n  },\n  "valor": "9.90",\n  "codigoCidadeIBGE": "3540000",\n  "infoPagador": "Compra dia xx"\n}\n')))),Object(c.b)("p",null,"Data that can be used in the payment initiation request:"),Object(c.b)("table",null,Object(c.b)("tbody",null,Object(c.b)("tr",null,Object(c.b)("th",null,"Attribute"),Object(c.b)("th",{align:"center"},"Description"),Object(c.b)("th",{align:"center"},"Mandatory"),Object(c.b)("th",{align:"center"},"Type")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"Pagador")),Object(c.b)("td",{align:"left"},' The fields in the "pagador" identifier organizes informations regarding the data of the final customer to whom the charge will be generated.',Object(c.b)("br",null),Object(c.b)("br",null),"pagador:",Object(c.b)("br",null),Object(c.b)("code",null,"idParticipante*"),"// Participant identifier in the Central Bank directory. (String)",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("code",null,"cpf*"),"// Final customer CPF (document), natural person. (String)",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("code",null,"cnpj*"),"// Final customer CNPJ (document), juridical person. (String)"),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"Object. ")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"Favorecido")),Object(c.b)("td",{align:"left"},' The fields in the "favorecido" identifier organizes informations regarding the data of the final customer to whom the charge will be generated.',Object(c.b)("br",null),Object(c.b)("br",null),"favorecido:",Object(c.b)("br",null),Object(c.b)("code",null,"contaBanco*")," : (bank account)",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("code",null,"codigoBanco*"),"// Bank code. (String)",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("code",null,"agencia*"),"// agency (String)",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("code",null,"documento*"),"// Account owner document. (String)",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("code",null,"nome*"),"// Account owner name (String)",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("code",null,"conta*"),"// Account number with the last digit. (String)",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("code",null,"Tipoconta*"),": ",Object(c.b)("br",null),"CACC: Conta Corrente, used to post debits and credits in general. SLRY: Salary account, used for salary payments. SVGS: Conta Poupan\xe7a, used for savings. TRAN: Conta de Transa\xe7\xf5es, used as basic account type. (Values) //[ CACC, SLRY, SVGS, TRAN ]"),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"Object. ")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"Valor")),Object(c.b)("td",{align:"left"}," Payment value."),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String. ")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"codigoCidadeIBGE")),Object(c.b)("td",{align:"left"}," City code (or zipcode) according to IBGE."),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String. ")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"infoPagador")),Object(c.b)("td",{align:"left"}," Informations to the final payer. 200(Success)"),Object(c.b)("td",{align:"center"},"No"),Object(c.b)("td",{align:"left"},"String. ")))),Object(c.b)("b",null,"Responses"),Object(c.b)("p",null,"The responses below represent Success(200) and Consumption failures/errors."),Object(c.b)(i.a,{defaultValue:"200",values:[{label:"200(Success)",value:"200"},{label:"404(Bad Request)",value:"404"},{label:"401(Unauthorized)",value:"401"},{label:"403(Forbidden)",value:"403"},{label:"409(Conflict)",value:"409"},{label:"422(Unprocessable)",value:"422"},{label:"431(Fields Too Large)",value:"431"},{label:"500(Error)",value:"500"}],mdxType:"Tabs"},Object(c.b)(r.a,{value:"200",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "identificadorPagamento": "ae71713f-875b-4af3-9d85-0bcb43288847",\n  "redirectURI": "https://open-banking.banco.com.br/authorize?request=eyJjd&redirect_uri=https://pub.opb.testegerencianet.com.br/callback&scope=openid%20pagamentos%20consent:urn:gerencianet:fdf36ac8-f213-4057-bf2e-2ce7bd828abf&response_type=code%20id_token"\n}\n'))),Object(c.b)(r.a,{value:"404",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "codigo_banco_favorecido_obrigatorio",\n  "mensagem": "O c\xf3digo do banco favorecido \xe9 obrigat\xf3rio"\n}\n'))),Object(c.b)(r.a,{value:"401",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),"This error occurs in the following situations:\n\n* Certificate or credentials do not exist;\n* Certificate or credentials are disabled;\n* Certificate and credentials are not linked to the same Gest\xe3onet account;\n* Integrator does not have permission for the service scope needed to consume this endpoint.\n"))),Object(c.b)(r.a,{value:"403",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),"This error occurs in the following situations:\n\n* Integrator requests access to a scope to which it does not have permission.\n"))),Object(c.b)(r.a,{value:"409",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "conflito_chave_idempotencia",\n  "mensagem": "Chave de idempot\xeancia repetida para pagamento diferente"\n}\n'))),Object(c.b)(r.a,{value:"412",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'Precondition failed. This error occurs in the following situations:\n\n* Integrator must have at least one registered Webhook.\n{\n  "nome": "webhook_nao_cadastrado",\n  "mensagem": "Sua conta n\xe3o possui webhook cadastrado na API de Cadastro."\n}\n'))),Object(c.b)(r.a,{value:"422",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "codigo_banco_nao_permitido",\n  "mensagem": "O c\xf3digo do banco informado n\xe3o \xe9 permitido"\n}\n'))),Object(c.b)(r.a,{value:"431",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "chave_idempotencia_invalida",\n  "mensagem": "Tamanho da chave de idempot\xeancia inv\xe1lido"\n}\n'))),Object(c.b)(r.a,{value:"500",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'Application error\n{\n  "nome": "erro_aplicacao",\n  "mensagem": "Ocorreu um erro ao criar o pagamento"\n}\n')))),Object(c.b)("b",null,"Obs:"),"The redirect link contained in the redirectURI parameter has an expiration time that may be different for each account holder chosen for the payment. The shortest expiration time is 30 seconds.",Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("h3",{id:"list-of-payments-for-a-period-of-time"},"List of payments for a period of time"),Object(c.b)("div",{class:"gn-endpoint"},Object(c.b)("span",{class:"http-method get"},"GET"),Object(c.b)("span",{class:"endpoint"},"/open=finance/pagamentos/pix"))," ",Object(c.b)("br",null),Object(c.b)("p",null,"This endpoint is used to list information about payments that have been made over a period of time."),Object(c.b)("p",null,"This endpoint has mandatory start and end filters that represent the range of dates in which the queried charges must be included."),Object(c.b)("b",null,"Requisi\xe7\xe3o"),Object(c.b)("br",null),"Data that can be used in the information listing request:",Object(c.b)("table",null,Object(c.b)("tbody",null,Object(c.b)("tr",null,Object(c.b)("th",null,"Attribute"),Object(c.b)("th",{align:"center"},"Description"),Object(c.b)("th",{align:"center"},"Mandatory"),Object(c.b)("th",{align:"center"},"Type")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"inicio")),Object(c.b)("td",{align:"left"}," Inicial date of the payment.",Object(c.b)("br",null),Object(c.b)("br",null),"Example: 2022-04-29"),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"fim")),Object(c.b)("td",{align:"left"}," Final date of the payment.",Object(c.b)("br",null),Object(c.b)("br",null),"Example: 2022-04-29"),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"quantidade")),Object(c.b)("td",{align:"left"}," Quantity of returns for page.",Object(c.b)("br",null),Object(c.b)("br",null),"Example: 5"),Object(c.b)("td",{align:"center"},"No"),Object(c.b)("td",{align:"left"},"String")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"pagina")),Object(c.b)("td",{align:"left"}," number of the page you want to consult according to the quantity.",Object(c.b)("br",null),Object(c.b)("br",null),"Example: 2"),Object(c.b)("td",{align:"center"},"No"),Object(c.b)("td",{align:"left"},"String")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"status")),Object(c.b)("td",{align:"left"}," payment status.",Object(c.b)("br",null),Object(c.b)("br",null),"Example: 2"),Object(c.b)("td",{align:"center"},"No"),Object(c.b)("td",{align:"left"},"String")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"identificador")),Object(c.b)("td",{align:"left"}," Payment identifier (If this field is informed, the others are disregarded in the search)."),Object(c.b)("td",{align:"center"},"No"),Object(c.b)("td",{align:"left"},"String")))),Object(c.b)("b",null,"Responses"),Object(c.b)("p",null,"The responses below represent Success(200) and Consumption failures/errors."),Object(c.b)(i.a,{defaultValue:"200",values:[{label:"200(Success)",value:"200"},{label:"400(Bad Request)",value:"400"},{label:"404(Unknown Payment Error)",value:"404"},{label:"422(Unprocessable)",value:"422"},{label:"500(Error)",value:"500"}],mdxType:"Tabs"},Object(c.b)(r.a,{value:"200",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "pagamentos": [\n    {\n      "identificadorPagamento": "urn:gerencianet:49315a93-d39c-4564-9edb-9a73678dbdb1",\n      "valor": "1.99",\n      "status": "pendente",\n      "dataCriacao": "2022-04-29T11:55:03.000Z"\n    }\n  ],\n  "total": 3,\n  "porPagina": 1,\n  "ultimo": "/pagamentos/pix?inicio=2022-04-29&fim=2022-04-29&quantidade=1&pagina=3",\n  "proximo": "/pagamentos/pix?inicio=2022-04-29&fim=2022-04-29&quantidade=1&pagina=2",\n  "anterior": null,\n  "atual": "/pagamentos/pix?inicio=2022-04-29&fim=2022-04-29&quantidade=1&pagina=1"\n}\n'))),Object(c.b)(r.a,{value:"400",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "data_inicio_invalido",\n  "mensagem": "A data in\xedcio \xe9 inv\xe1lido"\n}\n'))),Object(c.b)(r.a,{value:"404",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "pagamento_nao_encontrado",\n  "mensagem": "Nenhum pagamento encontrado"\n}\n'))),Object(c.b)(r.a,{value:"422",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "nome": "data_inicio_obrigatorio",\n  "mensagem": "A data in\xedcio \xe9 obrigat\xf3rio"\n}\n'))),Object(c.b)(r.a,{value:"500",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'Application error\n{\n  "nome": "data_inicio_obrigatorio",\n  "mensagem": "A data in\xedcio \xe9 obrigat\xf3rio"\n}\n')))),Object(c.b)("br",null),Object(c.b)("br",null),Object(c.b)("h3",{id:"receiving-callbacks"},"Receiving callbacks"),Object(c.b)("p",null,"This service is protected by an mTLS authentication layer."),Object(c.b)("h4",{id:"request-2"},"Request"),Object(c.b)("p",null,"A POST request is sent by Gerencianet to the URL you registered as a webhook for a given key. When there is a change in the status of an Open Finance transaction, involving the associated key, a JSON object (like the examples below) will be sent to your server. Each request sent has a timeout of 60 seconds, that is, a callback request is interrupted when it reaches 60 seconds without a response."),Object(c.b)("p",null,"The answers below represent Success(200) and Failures/Errors of consumption."),Object(c.b)(i.a,{defaultValue:"200",values:[{label:"Example - Callbacks data",value:"200"}],mdxType:"Tabs"},Object(c.b)(r.a,{value:"200",mdxType:"TabItem"},Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'// Exemplo - 200 (Notifica\xe7\xe3o enviada com sucesso)\n{\n        "identificadorPagamento": "urn:instituicaoDetentoraDeConta:fd2be7c4-604c-4493-9236-78fe66f40597",\n        "valor": "9.90",\n        "status": "aceito",\n        "dataCriacao": "2024-09-20T18:37:23.000Z",\n        "endToEndId": "E090993562022060954525a47762681g"\n}\n')))),Object(c.b)("p",null,"The following table details the fields present in the JSON object that will be sent in the notification."),Object(c.b)("table",null,Object(c.b)("tbody",null,Object(c.b)("tr",null,Object(c.b)("th",null,"Attribute"),Object(c.b)("th",{align:"center"},"Description"),Object(c.b)("th",{align:"center"},"Mandatory"),Object(c.b)("th",{align:"center"},"Type")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"identificadorPagamento")),Object(c.b)("td",{align:"left"}," Identifier of the payment initiated in the Open Finance API. ",Object(c.b)("br",null),Object(c.b)("br",null)," Example: ae71713f-875b-4af3-9d85-0bcb43288847"),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String ")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"status")),Object(c.b)("td",{align:"left"}," Status of payment initiated. ",Object(c.b)("br",null),Object(c.b)("br",null),"Example: ",Object(c.b)("code",null,"pendente"),", ",Object(c.b)("code",null,"agendado"),", ",Object(c.b)("code",null,"rejeitado")," e ",Object(c.b)("code",null,"aceito"),"."),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"Valor")),Object(c.b)("td",{align:"left"},"Transaction amount received. ",Object(c.b)("br",null),Object(c.b)("br",null),"Example: 9,90"),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String ",Object(c.b)("code",null,"\\d",10,".\\d",2))),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"dataCriacao")),Object(c.b)("td",{align:"left"}," Transaction creation date."),Object(c.b)("td",{align:"center"},"Yes"),Object(c.b)("td",{align:"left"},"String (datetime)")),Object(c.b)("tr",null,Object(c.b)("td",null,Object(c.b)("b",null,"endToEndId")),Object(c.b)("td",{align:"left"},"EndToEndIdentification que transita na PACS002, PACS004 e PACS008"),Object(c.b)("td",{align:"center"},"No"),Object(c.b)("td",{align:"left"},"String (32 characters)",Object(c.b)("code",null,"^[a-zA-Z0-9]",32,"$"))))),Object(c.b)("h4",{id:"response"},"Response"),Object(c.b)("p",null,"Callback requests wait for a response with HTTP status 2XX. If the client's server returns a different status, Gerencianet will make up to 10 notification retries. The first retry will be made 5 minutes after the callback fails to send. If the error persists, subsequent attempts will be sent at increasing time intervals, as shown in the table below."),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(c.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"In cases where the client's server returns HTTP status 429 (too many requests), Gerencianet's servers will try to send the notification up to 10 times also according to the table below."))),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:"center"}),"Trial number"),Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:"center"}),"Time (in minutes)"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"1"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"5")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"2"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"10")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"3"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"20")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"4"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"40")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"5"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"80")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"6"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"160")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"7"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"320")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"8"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"640")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"9"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"1280")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"10"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:"center"}),"2560"))))))}u.isMDXComponent=!0},250:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return j}));var a=n(0),b=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,b=function(e,t){if(null==e)return{};var n,a,b={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(b[n]=e[n]);return b}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(b[n]=e[n])}return b}var o=b.a.createContext({}),s=function(e){var t=b.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=s(e.components);return b.a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},p=b.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,i=e.parentName,o=l(e,["components","mdxType","originalType","parentName"]),d=s(n),p=a,j=d["".concat(i,".").concat(p)]||d[p]||u[p]||c;return n?b.a.createElement(j,r(r({ref:t},o),{},{components:n})):b.a.createElement(j,r({ref:t},o))}));function j(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,i=new Array(c);i[0]=p;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:a,i[1]=r;for(var o=2;o<c;o++)i[o]=n[o];return b.a.createElement.apply(null,i)}return b.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},254:function(e,t,n){"use strict";function a(e){var t,n,b="";if("string"==typeof e||"number"==typeof e)b+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(b&&(b+=" "),b+=n);else for(t in e)e[t]&&(b&&(b+=" "),b+=t);return b}t.a=function(){for(var e,t,n=0,b="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(b&&(b+=" "),b+=t);return b}},255:function(e,t,n){"use strict";var a=n(0);const b=Object(a.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});t.a=b},256:function(e,t,n){"use strict";var a=n(0),b=n(255);t.a=function(){return Object(a.useContext)(b.a)}},257:function(e,t,n){"use strict";var a=n(0),b=n.n(a),c=n(256),i=n(254),r=n(92),l=n.n(r);const o=37,s=39;t.a=function(e){const{block:t,children:n,defaultValue:r,values:d,groupId:u}=e,{tabGroupChoices:p,setTabGroupChoices:j}=Object(c.a)(),[O,m]=Object(a.useState)(r);if(null!=u){const e=p[u];null!=e&&e!==O&&d.some(t=>t.value===e)&&m(e)}const g=e=>{m(e),null!=u&&j(u,e)},h=[];return b.a.createElement("div",null,b.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t})},d.map(({value:e,label:t})=>b.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":O===e,className:Object(i.a)("tabs__item",l.a.tabItem,{"tabs__item--active":O===e}),key:e,ref:e=>h.push(e),onKeyDown:e=>((e,t,n)=>{switch(n.keyCode){case s:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case o:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(h,e.target,e),onFocus:()=>g(e),onClick:()=>g(e)},t))),b.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter(e=>e.props.value===O)[0]))}},258:function(e,t,n){"use strict";var a=n(0),b=n.n(a);t.a=function(e){return b.a.createElement("div",null,e.children)}}}]);