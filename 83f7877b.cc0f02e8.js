(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{171:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return c})),t.d(a,"metadata",(function(){return i})),t.d(a,"rightToc",(function(){return b})),t.d(a,"default",(function(){return s}));var n=t(2),o=t(6),r=(t(0),t(237)),c=(t(239),{id:"WebMikrotik",title:"WebMikrotik",hide_title:!0,sidebar_label:"WebMikrotik"}),i={id:"SistemasIntegrados/WebMikrotik",isDocsHomePage:!1,title:"WebMikrotik",description:"WebMikrotik",source:"@site/docs\\SistemasIntegrados\\WebMikrotik.md",permalink:"/documentation/docs/SistemasIntegrados/WebMikrotik",sidebar_label:"WebMikrotik"},b=[{value:"URL de callback (notifica\xe7\xf5es)",id:"url-de-callback-notifica\xe7\xf5es",children:[]},{value:"Como verificar se a integra\xe7\xe3o est\xe1 funcionando?",id:"como-verificar-se-a-integra\xe7\xe3o-est\xe1-funcionando",children:[]}],l={rightToc:b};function s(e){var a=e.components,t=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},l,t,{components:a,mdxType:"MDXLayout"}),Object(r.b)("h1",{className:"titulo"},"WebMikrotik"),Object(r.b)("div",{className:"subtitulo"},Object(r.b)("p",null,Object(r.b)("img",Object(n.a)({parentName:"p"},{src:"/img/webmikrotik.png",alt:"alt text",title:"WebMikrotik logo"}))),Object(r.b)("p",null,"A parte inicial da integra\xe7\xe3o \xe9 realizada dentro da plataforma de emiss\xe3o de boletos e carn\xeas e \xe9 finalizada na sua conta WebMikrotik. Confira o passo a passo:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Acesse o menu ",Object(r.b)("code",null,"API > Minhas Aplica\xe7\xf5es > Nova Aplica\xe7\xe3o"),", informe um nome para sua aplica\xe7\xe3o e ",Object(r.b)("strong",{parentName:"p"},"ATIVE")," o ",Object(r.b)("code",null,"Modo de Compatibilidade")," (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/f5884b13-141d-484c-99b2-59bfc1b199b5/2018-04-05_1351.png",target:"_blank",title:"Link Externo"},"veja onde"),");")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Clique em ",Object(r.b)("code",null,"Criar nova aplica\xe7\xe3o"),";")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Em sua conta no WebMikrotik, acesse o menu ",Object(r.b)("code",null,"Controle do Sistema > Configura\xe7\xf5es > Op\xe7\xf5es de Recebimento")," e clique na bot\xe3o ",Object(r.b)("code",null,"Adicionar"),";")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Ainda em seu WebMikrotik, escolha a op\xe7\xe3o ",Object(r.b)("code",null,"Selecionar o Fortunus como uma conta banc\xe1ria")," e preencha os campos em vermelho;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Por fim, em seu WebMikrotik, acesse o menu ",Object(r.b)("code",null,"Recebimentos Online"),", selecione a op\xe7\xe3o ",Object(r.b)("code",null,"Fortunus")," e insira o token de integra\xe7\xe3o gerado em sua aplica\xe7\xe3o (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/dedc2d55-2304-4e3b-aaed-224e6ae0487f/2018-04-05_1605.png",target:"_blank"},"veja onde"),")."))),Object(r.b)("p",null,"Pronto. A integra\xe7\xe3o est\xe1 completa."),Object(r.b)("br",null),Object(r.b)("h2",{id:"url-de-callback-notifica\xe7\xf5es"},"URL de callback (notifica\xe7\xf5es)"),Object(r.b)("p",null,"Para que o sistema do WebMikrotik realize a baixa autom\xe1tica dos boletos e carn\xeas pagos, \xe9 necess\xe1rio cadastrar uma URL de callback na plataforma da Gerencianet. Veja como fazer:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Copie a URL gerada na mesma tela da conta WebMikrotik em que voc\xea fez a inser\xe7\xe3o do token;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Acesse sua conta Gerencianet, v\xe1 no menu ",Object(r.b)("code",null,"API > Minhas Aplica\xe7\xf5es")," e selecione sua aplica\xe7\xe3o;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Agora, na aba ",Object(r.b)("code",null,"Callbacks"),", ative ambos os campos (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/82315a32-fff3-4ce2-9202-0dfa701bd36d/2018-04-05_1340.png",target:"_blank"},"veja onde"),") e informe a URL gerada na conta WebMikrotik;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Indique se a URL deve ser indicada para a confirma\xe7\xe3o de pagamento e/ou cancelamento de cobran\xe7a;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Clique no bot\xe3o ",Object(r.b)("code",null,"Salvar")," (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/88a744e9-80f4-4226-be3b-82b1a47c3f21/2018-04-05_1417.png",target:"_blank"},"veja onde"),")."))),Object(r.b)("p",null,"Ap\xf3s esse procedimento, a cada pagamento ou cancelamento identificado, ser\xe1 realizada a baixa autom\xe1tica no WebMikrotik."),Object(r.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"ATEN\xc7\xc3O")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Se o cancelamento for realizado no WebMikrotik, n\xe3o ocorrer\xe1 a baixa autom\xe1tica na conta Gerencianet."))),Object(r.b)("br",null),Object(r.b)("h2",{id:"como-verificar-se-a-integra\xe7\xe3o-est\xe1-funcionando"},"Como verificar se a integra\xe7\xe3o est\xe1 funcionando?"),Object(r.b)("p",null,"Voc\xea pode realizar testes para verificar se a URL de callback est\xe1 funcionando perfeitamente. Para isto, clique no bot\xe3o ",Object(r.b)("code",null,"Testar"),", localizado ao lado da URL de notifica\xe7\xe3o cadastrada em sua conta Gerencianet (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/125ac343-46cd-4f20-bec3-c1ebe4588c93/2018-04-05_1413.png",target:"_blank"},"veja onde"),"). Ao clicar no bot\xe3o, uma requisi\xe7\xe3o \xe9 enviada para o WebMikrotik e voc\xea recebe uma mensagem informando se o callback est\xe1 funcionando ou n\xe3o."),Object(r.b)("p",null,"Para que o callback e a integra\xe7\xe3o funcionem adequadamente, \xe9 importante utilizar a \xfaltima vers\xe3o do WebMikrotik. Caso contr\xe1rio, mesmo que voc\xea receba a mensagem com a informa\xe7\xe3o de que o callback est\xe1 funcionando, o sistema n\xe3o realizar\xe1 a baixa autom\xe1tica."),Object(r.b)("p",null,"Ap\xf3s a confirma\xe7\xe3o do pagamento, a confirma\xe7\xe3o autom\xe1tica pode demorar alguns minutos at\xe9 ser enviada, conforme demanda de notifica\xe7\xf5es presentes na fila de processamento da Gerencianet."),Object(r.b)("p",null,"Se a Gerencianet tentar enviar uma notifica\xe7\xe3o 10 vezes em um determinado intervalo de tempo e seu sistema n\xe3o responder (por estar fora do ar ou com algum outro problema), a URL de callback \xe9 desativada automaticamente. Neste caso, voc\xea recebe um e-mail informando da desativa\xe7\xe3o. Caso voc\xea corrija a URL de callback, se houver notifica\xe7\xf5es n\xe3o enviadas, voc\xea pode marc\xe1-las para serem reenviadas."),Object(r.b)("br",null),Object(r.b)("p",null,"Ficou com alguma d\xfavida sobre integra\xe7\xe3o? ",Object(r.b)("a",{href:"https://gerencianet.com.br/artigo/entrar-em-contato/",target:"_blank"},"Entre em contato")," com a nossa equipe.")))}s.isMDXComponent=!0},237:function(e,a,t){"use strict";t.d(a,"a",(function(){return m})),t.d(a,"b",(function(){return p}));var n=t(0),o=t.n(n);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function b(e,a){if(null==e)return{};var t,n,o=function(e,a){if(null==e)return{};var t,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(o[t]=e[t]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=o.a.createContext({}),s=function(e){var a=o.a.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},m=function(e){var a=s(e.components);return o.a.createElement(l.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return o.a.createElement(o.a.Fragment,{},a)}},d=o.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,l=b(e,["components","mdxType","originalType","parentName"]),m=s(t),d=n,p=m["".concat(c,".").concat(d)]||m[d]||u[d]||r;return t?o.a.createElement(p,i(i({ref:a},l),{},{components:t})):o.a.createElement(p,i({ref:a},l))}));function p(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var r=t.length,c=new Array(r);c[0]=d;var i={};for(var b in a)hasOwnProperty.call(a,b)&&(i[b]=a[b]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var l=2;l<r;l++)c[l]=t[l];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},238:function(e,a,t){"use strict";var n=t(0),o=t(35);a.a=function(){return Object(n.useContext)(o.a)}},239:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(238),o=t(240);function r(e,{forcePrependBaseUrl:a=!1,absolute:t=!1}={}){const{siteConfig:{baseUrl:r="/",url:c}={}}=Object(n.a)();if(!e)return e;if(a)return r+e;if(!Object(o.a)(e))return e;const i=r+e.replace(/^\//,"");return t?c+i:i}},240:function(e,a,t){"use strict";function n(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}t.d(a,"a",(function(){return n}))}}]);